
# Common
public_url: http://{{ ansible_host }}:{{ ansible_port//100}}80 


# MySQL
mysql_host: akhkusu-1
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63356665353639393539636637613739616233313234313838623033343833383365343532376465
          6663616637383834383533646661623536626532616264300a636262346338643837626362343465
          65643635386161616533326139303733336265663866643531623764396464343434353230313262
          6539376133633166300a386331303135333566646630323761376633613739633035633832623230
          6232



mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"


node_id: "{{ (ansible_port / 100) | int }}"

mysql_replication_username: replication
mysql_replication_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33383961373234393165636235393532623737646662343531633339373631373563306636623138
          3637653834613831313236313466333734613338623463660a383464326535353766383961396461
          39386531393465316462343436323665366265646630666137666134613865643465613331636234
          3762633665363166640a643439316131333162623462323336336336373061386635643736326439
          6135



# DNS
domain_name: ak.io
dns_forwarders:
  - 1.1.1.1
  - 8.8.8.8
localhost: 127.0.0.0/8
localnetwork: "{{ ansible_default_ipv4.network }}/24"
docker_net: 172.17.0.0/16


a_records:
  - backup: 192.168.42.132
  - google: 8.8.8.8

# agama
agama_port: 8001 

# keepalived
prioritized_keepalived: akhkusu-1

# Prometheus
prometheus_port: 9090
stub_status_port: 8080


# prometheus_exporters:
#   node:
#     port: 9100
#   nginx:
#     port: 9113
#   mysql:
#     port: 9104
#   bind:
#     port: 9119
#   influxdb:
#     port: 9424
#   backup:
#     port: 9111 #can't be changed as it's set up on backup host
#   haproxy:
#     port: 9101
#   keepalived:
#     port: 9165

linux_exporter_port: 9100
haproxy_exporter_port: 9101

jobs_list:
  - name: linux
    target_port: "{{ linux_exporter_port }}"
    target_group: all

  - name: bind9
    target_port: 9119
    target_group: dns_servers

  - name: mysql
    target_port: 9104
    target_group: db_servers

  - name: nginx
    target_port: 9113
    target_group: nginx_servers

  - name: influxdb
    target_port: 9424
    target_group: influxdb_servers

  - name: haproxy
    target_port: "{{ haproxy_exporter_port }}"
    target_group: haproxy_servers

  - name: keepalived
    target_port: 9165
    target_group: keepalived_servers

backup_exporter_port: 9111 #can't be changed as it's set up on backup host



  
mysql_exporter_user: exporter
mysql_exporter_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65393661383839613832313932393434383563633133616564666339353463343865313662306138
          3337336433653261623231653765636436386234316331350a306231613435303731323338626264
          62336538376632303463376430356139383161373965653361323733323730643965343963653632
          3035383637646331330a336438623832613835353833306531653861623937366236376533653637
          3736


# Grafana
grafana_port: 3000
grafana_user: admin
grafana_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31646330306538316236333739353735663635333839636130366330333135313639333336383233
          6633663565646431613031643839303935613636336364310a366433333665323539363135653038
          36616563633237636331346333646435303362383166666134373830643266393539316331366665
          6532383830326562390a363933666261316435376630393530333030393439636563306562376237
          3437



# InfluxDB
influxdb_port: 8086


#Rsyslog 
rsyslog_port: 6514


# Backup

backup_server_ip: 192.168.42.132
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90
mysql_backup_user: backup
mysql_backup_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62633632393838646330623131316266393361626339666338623365353934326463333563373166
          3231633963326431643135356538343938623939363036620a616639623066383162373337626565
          30303131343964383830363238383361313938333866353039343438396566323566656430373437
          3434316534353239300a643339356361653939393066346439383236313133313561663761333365
          3463






# docker
agama_per_vm: 3
